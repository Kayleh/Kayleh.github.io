<!DOCTYPE html><html lang="zh-CN"><head hexo-theme="https://github.com/volantis-x/hexo-theme-volantis/tree/4.1.3"><meta charset="utf-8"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><meta name="renderer" content="webkit"><meta name="force-rendering" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="HandheldFriendly" content="True"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>realize modular programming with functions - Kayleh</title><meta name="keywords" content="C"><link rel="alternate" href="/atom.xml" title="Kayleh"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-config" content="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/favicon/browserconfig.xml"><meta name="theme-color" content="#ffffff"><meta name="google-site-verification" content="LQn0xwjfEU_V6CXCA0qAdwM4qRXtblIbfy5KuzEKaRg"><link rel="apple-touch-icon" sizes="180x180" href="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/favicon/favicon-16x16.png"><link rel="manifest" href="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/favicon/site.webmanifest"><link rel="mask-icon" href="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/favicon/safari-pinned-tab.svg" color="#5bbad5"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/favicon/favicon.ico"><link rel="stylesheet" href="/css/first.css"><link rel="stylesheet" href="/css/style.css" media="print" onload='this.media="all",this.onload=null'><noscript><link rel="stylesheet" href="/css/style.css"></noscript><script id="loadcss"></script><script>!function(e,t,o,c,i,a,n){e.DaoVoiceObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=+new Date,a=t.createElement(o),n=t.getElementsByTagName(o)[0],a.async=1,a.src=c,a.charset="utf-8",n.parentNode.insertBefore(a,n)}(window,document,"script",("https:"==document.location.protocol?"https:":"http:")+"//widget.daovoice.io/widget/38b1c911.js","daovoice"),daovoice("init",{app_id:"38b1c911"}),daovoice("update")</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?2cd1dc193190f18fed292accb735c684";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><body><header id="l_header" class="l_header auto shadow blur" style="opacity:0"><div class="container"><div id="wrapper"><div class="nav-sub"><p class="title"></p><ul class="switcher nav-list-h m-phone" id="pjax-header-nav-list"><li><a id="s-comment" class="fas fa-comments fa-fw" target="_self" href="javascript:void(0)"></a></li><li><a id="s-toc" class="s-toc fas fa-list fa-fw" target="_self" href="javascript:void(0)"></a></li></ul></div><div class="nav-main"><a class="title flat-box" target="_self" href="/"><img no-lazy class="logo" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/Logo-NavBar@3x.png"> <i class="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/2.jpg"></i></a><div class="menu navigation"><ul class="nav-list-h m-pc"><li><a class="menuitem flat-box faa-parent animated-hover" href="/" id="home"><i class="fas fa-rss fa-fw"></i>首页</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/tags/" id="tags"><i class="fas fa-tags fa-fw"></i>标签</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/archives/" id="archives"><i class="fas fa-archive fa-fw"></i>归档</a></li></ul></div><div class="m_search"><form name="searchform" class="form u-search-form"><i class="icon fas fa-search fa-fw"></i> <input type="text" class="input u-search-input" placeholder="Search..."></form></div><ul class="switcher nav-list-h m-phone"><li><a class="s-search fas fa-search fa-fw" target="_self" href="javascript:void(0)"></a></li><li><a class="s-menu fas fa-bars fa-fw" target="_self" href="javascript:void(0)"></a><ul class="menu-phone list-v navigation white-box"><li><a class="menuitem flat-box faa-parent animated-hover" href="/" id="home"><i class="fas fa-rss fa-fw"></i>首页</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/tags/" id="tags"><i class="fas fa-tags fa-fw"></i>标签</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/archives/" id="archives"><i class="fas fa-archive fa-fw"></i>归档</a></li></ul></li></ul></div></div></div></header><div id="l_body"><div id="l_cover"><div id="half" class="cover-wrapper post dock"><div id="cover-backstretch"></div><div class="cover-body"><div class="top"><p class="title">Kayleh</p><p class="subtitle">"最怕一生碌碌无为,还安慰自己平凡可贵"</p></div><div class="bottom"><div class="menu navigation"><div class="list-h"><a href="/" id="home"><img src="https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f5c3.svg"><p>Home</p></a><a href="https://kayleh.top/" target="_blank" rel="noopener" id="https:kaylehtop"><img src="https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f516.svg"><p>More</p></a><a href="/archives/" id="archives"><img src="https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f396.svg"><p>所有</p></a><a href="/about" id="about"><img src="https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f389.svg"><p>我?</p></a><a href="/friends/" id="friends"><img src="https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f4f0.svg"><p>友人帐</p></a><a href="mailto:kaylehisdied@gmail.com" id="mailto:kaylehisdied@gmailcom"><img src="https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f9ec.svg"><p>Email</p></a></div></div></div></div><div id="scroll-down" style="display:none"><i class="fa fa-chevron-down scroll-down-effects"></i></div></div></div><div id="safearea"><div class="body-wrapper" id="pjax-container"><div class="l_main"><article class="article post white-box reveal md shadow article-type-post" id="post" itemscope itemprop="blogPost"><div class="article-meta" id="top"><h1 class="title">realize modular programming with functions</h1><div class="new-meta-box"><div class="new-meta-item author"><a class="author" href="/" rel="nofollow"><img no-lazy src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/2.jpg"><p>Kayleh</p></a></div><div class="new-meta-item date"><a class="notlink"><i class="fas fa-calendar-alt fa-fw" aria-hidden="true"></i><p>发布于：2020年10月25日</p></a></div><div class="new-meta-item browse leancloud"><a class="notlink"><div id="lc-pv" data-title="realize modular programming with functions" data-path="/realize-modular-programming-with-functions/"><i class="fas fa-eye fa-fw" aria-hidden="true"></i> <span id="number"><i class="fas fa-circle-notch fa-spin fa-fw" aria-hidden="true"></i></span> 次浏览</div></a></div></div></div><h1 id="用函数实现模块化程序设计"><a href="#用函数实现模块化程序设计" class="headerlink" title="用函数实现模块化程序设计"></a>用函数实现模块化程序设计</h1><blockquote><p>Realize modular programming with functions</p></blockquote><p>用函数输出以下结果：</p><pre><code class="lang-c">*****************
How do you do!
*****************
</code></pre><pre><code class="lang-c">#include&lt;stdio.h&gt;

int main()
{
    void print_star();//函数的声明
    void print_message();//函数的声明
    print_star();
    print_message();
    print_star();
    return 0;
}

void print_star()
{
    printf(&quot;*****************\n&quot;);
}

void print_message()
{
    printf(&quot;How do you do!\n&quot;);
}
</code></pre><blockquote><p>函数声明的作用是把有关函数的信息(函数名,函数类型,函数参数的个数与类型)通知编译系统,以便在编译系统对程序进行编译时,在进行到main函数调用print_star()和print_message()时知道它们是函数而不是变量或其他对象,还对调用函数的正确性进行检查.</p><p>函数间可以互相调用,但不能调用main函数,main函数是被操作系统调用的.</p><p>函数从用户使用的角度看分为:</p><ul><li>库函数</li><li>用户自己定义的函数</li></ul><p>从函数形式分为:</p><ul><li>无参函数</li><li>有参函数</li></ul></blockquote><h2 id="怎么定义函数"><a href="#怎么定义函数" class="headerlink" title="怎么定义函数"></a>怎么定义函数</h2><p>定义函数应包括哪些内容:</p><ul><li>函数的名字,方便按名调用</li><li>函数的类型,即函数返回值的类型</li><li>函数的参数的名字和类型,调用函数时需要传递的数据</li><li>函数的功能,函数体</li></ul><h4 id="定义无参函数"><a href="#定义无参函数" class="headerlink" title="定义无参函数"></a>定义无参函数</h4><pre><code class="lang-c">类型名    函数名()
{
    函数体
}
或
类型名    函数名(void)
{
    函数体
}
</code></pre><p>函数体包括声明部分(变量)和语句部分.</p><h4 id="定义有参函数"><a href="#定义有参函数" class="headerlink" title="定义有参函数"></a>定义有参函数</h4><pre><code class="lang-c">类型名    函数名(形式参数表列)
{
    函数体
}
</code></pre><h4 id="定义空函数"><a href="#定义空函数" class="headerlink" title="定义空函数"></a>定义空函数</h4><pre><code class="lang-c">类型名    函数名()
{}
</code></pre><h2 id="调用函数"><a href="#调用函数" class="headerlink" title="调用函数"></a>调用函数</h2><h4 id="函数调用的形式"><a href="#函数调用的形式" class="headerlink" title="函数调用的形式"></a>函数调用的形式</h4><blockquote><p>函数名(实参表列)</p></blockquote><h4 id="函数调用方式"><a href="#函数调用方式" class="headerlink" title="函数调用方式"></a>函数调用方式</h4><ul><li><p>调用语句</p></li><li><p>函数表达式</p><p>要求函数带回一个确定的值以参加表达式的运算</p><pre><code class="lang-c">c=2*max(a,b);
</code></pre></li><li><p>函数参数</p><p>函数调用作为另一个函数调用时的实参,如:</p><pre><code class="lang-c">m=max(a,max(b,c));
</code></pre></li></ul><h3 id="函数调用时的数据传递"><a href="#函数调用时的数据传递" class="headerlink" title="函数调用时的数据传递"></a>函数调用时的数据传递</h3><h4 id="形式参数和实际参数"><a href="#形式参数和实际参数" class="headerlink" title="形式参数和实际参数"></a>形式参数和实际参数</h4><blockquote><p><code>形式参数</code></p><p>在定义函数时函数名后面括号中的变量名称为<code>形式参数</code></p><p><code>实际参数</code></p><p>在主调函数调用一个函数时,函数名后面括号中的变量名称为<code>实际参数</code></p></blockquote><h4 id="实参和形参间的数据传递"><a href="#实参和形参间的数据传递" class="headerlink" title="实参和形参间的数据传递"></a>实参和形参间的数据传递</h4><blockquote><p>在调用函数过程中,系统会把实参中的值传递给被调函数的形参.</p></blockquote><h5 id="输入两个整数-要求输出其中值较大者-要求用函数来找到最大值"><a href="#输入两个整数-要求输出其中值较大者-要求用函数来找到最大值" class="headerlink" title="输入两个整数,要求输出其中值较大者,要求用函数来找到最大值."></a>输入两个整数,要求输出其中值较大者,要求用函数来找到最大值.</h5><pre><code class="lang-c">#include&lt;stdio.h&gt;

int main()
{
    int max(int x, int y);
    int a, b, c;
    printf(&quot;please enter 2 integer numbers:&quot;);
    scanf(&quot;%d,%d&quot;, &amp;a, &amp;b);
    c = max(a, b);
    printf(&quot;max is %d&quot;, c);
    return 0;
}

int max(int x, int y)
{c
    int z;
    z = x &gt; y ? x : y;
    return z;
}
</code></pre><h3 id="函数调用的执行过程"><a href="#函数调用的执行过程" class="headerlink" title="函数调用的执行过程"></a>函数调用的执行过程</h3><p>1)在定义函数中指定的形参,在未出现函数调用的时,它们并不占内存中的存储单元,在发生函数调用时,函数max的形参才被临时分配内存单元.</p><p>2)将实参的值传递给对应形参</p><p>3)在执行max函数期间,由于形参已经有值,就可以利用形参进行有关的运算</p><p>4)通过return语句将函数值带回到主调函数.</p><p>5)调用结束,形参单元被释放. 注意:实参单元仍保留并维持原值.没有改变.如果在执行一个被调函数时,形参的值发生改变,不会改变主调函数的实参的值.如:在执行max函数时,x和y的值变为10和15,但a和b仍为2和3,这是因为形参和实参是两个不同的存储单元.</p><h3 id="函数的返回值"><a href="#函数的返回值" class="headerlink" title="函数的返回值"></a>函数的返回值</h3><ul><li><p>函数的返回值是通过return语句中获得的.</p></li><li><p>函数返回值的类型是函数的类型.</p></li><li><p>在定义函数时指定的函数类型一般应该和return语句中的表达式类型一致.</p></li></ul><p>将在max函数中定义的变量z改为float型,函数返回值与指定的函数类型不同</p><pre><code class="lang-c">#include&lt;stdio.h&gt;

int main()
{
    int max(float x, float y);
    float a, b;
    int c;
    scanf(&quot;%f,%f&quot;, &amp;a, &amp;b);
    c = max(a, b);
    printf(&quot;max is %d&quot;, c);
    return 0;
}

int max(float x, float y)
{
    float z;
    z = x &gt; y ? x : y;
    return (z);
}
---------
1.5,2.6
max is 2
</code></pre><h3 id="对被调用函数的声明和函数原型"><a href="#对被调用函数的声明和函数原型" class="headerlink" title="对被调用函数的声明和函数原型"></a>对被调用函数的声明和函数原型</h3><p>输入两个实数,用一个函数求它们之和.</p><pre><code class="lang-c">#include&lt;stdio.h&gt;

int main()
{
    float add(float x, float y);
    float a, b, c;
    scanf(&quot;%f,%f&quot;, &amp;a, &amp;b);
    c = add(a, b);
    printf(&quot;sum is %d&quot;, c);
    return 0;
}

float add(float x, float y)
{
    float z;
    z = x + y;
    return (z);
}
</code></pre><h4 id="函数声明的两种形式"><a href="#函数声明的两种形式" class="headerlink" title="函数声明的两种形式"></a>函数声明的两种形式</h4><p>1)函数类型 函数名(参数类型1 参数名1,参数类型2 参数名2,…参数类型n 参数名n)</p><p>2)函数类型 函数名(参数类型1,参数类型2,…,参数类型n)</p><p>编译系统只关心和检查参数个数和参数类型,而不检查参数名,因为在调用函数时只要求保证实参类型与形参类型一致,而不必考虑形参名是什么.因此在函数声明中</p><blockquote><p><code>函数原型</code>函数的首部称为函数原型</p></blockquote><h3 id="函数的嵌套调用"><a href="#函数的嵌套调用" class="headerlink" title="函数的嵌套调用"></a>函数的嵌套调用</h3><h5 id="输入4个整数-找出其中最大的数"><a href="#输入4个整数-找出其中最大的数" class="headerlink" title="输入4个整数,找出其中最大的数"></a>输入4个整数,找出其中最大的数</h5><pre><code class="lang-c">#include&lt;stdio.h&gt;

int main()
{
    int max4(int a, int b, int c, int d);
    int a, b, c, d, max;
    printf(&quot;please enter 4 integer numbers:&quot;);
    scanf(&quot;%d %d %d %d&quot;, &amp;a, &amp;b, &amp;c, &amp;d);
    max = max4(a, b, c, d);
    printf(&quot;max:%d&quot;, max);
    return 0;
}

int max2(int a, int b)
{
    if (a &gt;= b)
        return a;
    else
        return b;
}

int max4(int a, int b, int c, int d)
{
    int max2(int, int);//函数声明
    int m;
    m = max2(a, b);
    m = max2(m, c);
    m = max2(m, d);
    return m;
}
</code></pre><p>改进:</p><pre><code class="lang-c">#include&lt;stdio.h&gt;

int main()
{
    int max4(int a, int b, int c, int d);
    int a, b, c, d, max;
    printf(&quot;please enter 4 integer numbers:&quot;);
    scanf(&quot;%d %d %d %d&quot;, &amp;a, &amp;b, &amp;c, &amp;d);
    max = max4(a, b, c, d);
    printf(&quot;max:%d&quot;, max);
    return 0;
}

int max2(int a, int b)
{
    return a &gt;= b ? a : b;
}

int max4(int a, int b, int c, int d)
{
    int max2(int, int);//函数声明
    return max2(max2(max2(a, b), c), d);;
}
</code></pre><h2 id="函数的递归调用"><a href="#函数的递归调用" class="headerlink" title="函数的递归调用"></a>函数的递归调用</h2><blockquote><p>一个递归的问题可以分为”回溯”和”递推”两个阶段.</p></blockquote><h5 id="用递归的方法求n"><a href="#用递归的方法求n" class="headerlink" title="用递归的方法求n! ."></a>用递归的方法求n! .</h5><blockquote><p>n!=1 (n=0,1)</p><p>n!=n×(n-1) (n&gt;1)</p></blockquote><pre><code class="lang-c">#include&lt;stdio.h&gt;

int main()
{
    int fac(int n);
    int n, y;
    printf(&quot;please enter an integer number:&quot;);
    scanf(&quot;%d&quot;, &amp;n);
    y = fac(n);
    printf(&quot;%d!=%d&quot;, n,y);
    return 0;
}

int fac(int n)
{
    int f;
    if (n &lt; 0)
        printf(&quot;n&lt;0.data error!&quot;);
    else if (n == 0 || n == 1)
        f = 1;
    else f = fac(n - 1) * n;
    return f;
}
</code></pre><h5 id="汉诺塔问题"><a href="#汉诺塔问题" class="headerlink" title="汉诺塔问题"></a>汉诺塔问题</h5><pre><code class="lang-c">#include&lt;stdio.h&gt;

int main()
{
    void hanoi(int n, char one, char two, char three);
    int m;
    printf(&quot;input the number of diskes:&quot;);
    scanf(&quot;%d&quot;, &amp;m);
    hanoi(m, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;);
    return 0;
}

void hanoi(int n, char one, char two, char three)
{
    //将n个盘从one座借助two座移动到three座
    void move(char x, char y);
    if (n == 1)
        move(one, three);
    else
    {
        hanoi(n - 1, one, three, two);
        move(one, three);
        hanoi(n - 1, two, one, three);
    }
}

void move(char x, char y)
{
    printf(&quot;%c --&gt; %c\n&quot;, x, y);
}
</code></pre><h2 id="数组作为函数参数"><a href="#数组作为函数参数" class="headerlink" title="数组作为函数参数"></a>数组作为函数参数</h2><blockquote><p>在用数组元素作函数实参时,把实参的值传给形参,是<strong>“值传递”</strong>方式,数据的传递是由<strong>形参传到实参,单向传递.</strong></p></blockquote><h5 id="输入10个数-要求输出其中值最大的元素和该数是第几个数"><a href="#输入10个数-要求输出其中值最大的元素和该数是第几个数" class="headerlink" title="输入10个数,要求输出其中值最大的元素和该数是第几个数."></a>输入10个数,要求输出其中值最大的元素和该数是第几个数.</h5><pre><code class="lang-c">#include&lt;stdio.h&gt;

int main()
{
    int max(int x, int y);
    int a[10], i, m, n;
    printf(&quot;please enter 10 integer numbers:&quot;);
    for (i = 0; i &lt; 10; i++)
    {
        scanf(&quot;%d&quot;, &amp;a[i]);
    }
    printf(&quot;\n&quot;);
    for (i = 1, n = 0, m = a[0]; i &lt; 10; i++)
    {
        if (max(m, a[i]) &gt; m)
        {
            m = max(m, a[i]);
            n = i;
        }
    }
    printf(&quot;the large number is %d\nit is the %dth number.&quot;, m, n + 1);
    return 0;
}

int max(int x, int y)
{
    return x &gt; y ? x : y;
}
</code></pre><h3 id="一维数组名作函数参数"><a href="#一维数组名作函数参数" class="headerlink" title="一维数组名作函数参数"></a>一维数组名作函数参数</h3><h5 id="有一个一维数组score-内放10个学生成绩-求平均成绩"><a href="#有一个一维数组score-内放10个学生成绩-求平均成绩" class="headerlink" title="有一个一维数组score,内放10个学生成绩,求平均成绩."></a>有一个一维数组score,内放10个学生成绩,求平均成绩.</h5><pre><code class="lang-c">#include&lt;stdio.h&gt;

int main()
{
    float average(float array[10]);
    float score[10], aver;
    int i;
    printf(&quot;input 10 scores:\n&quot;);
    for (i = 0; i &lt; 10; i++)
        scanf(&quot;%f&quot;, &amp;score[i]);
    printf(&quot;\n&quot;);
    aver = average(score);
    printf(&quot;average score is %5.2f\n&quot;, aver);
    return 0;
}

float average(float array[10])
{
    int i;
    float aver, sum = array[0];
    for (i = 1; i &lt; 10; i++)
        sum = sum + array[i];
    aver = sum / 10;
    return aver;
}
</code></pre><p>形参数组可以不指定大小,在定义数组时在数组名后加上空括号,如</p><pre><code class="lang-c">float average(float array[])
</code></pre><h5 id="有两个班级-分别有35名和39名学生-调用一个average函数-分别求两个班的学生的平均成绩"><a href="#有两个班级-分别有35名和39名学生-调用一个average函数-分别求两个班的学生的平均成绩" class="headerlink" title="有两个班级,分别有35名和39名学生,调用一个average函数,分别求两个班的学生的平均成绩."></a>有两个班级,分别有35名和39名学生,调用一个average函数,分别求两个班的学生的平均成绩.</h5><pre><code class="lang-c">#include&lt;stdio.h&gt;

int main()
{
    float average(float array[], int n);
    float score1[5] = {89, 99.5, 99, 45, 78};
    float score2[10] = {85.5, 10.5, 87.5, 78.5, 67.5, 90.5, 99.5, 87.5, 88, 78.5};

    //用数组名作实参
    printf(&quot;The average of class A is %6.2f\n&quot;, average(score1, 5));
    printf(&quot;The average of class B is %6.2f\n&quot;, average(score2, 10));
    return 0;
}

float average(float array[], int n)
{
    int i;
    float aver, sum = array[0];
    for (i = 1; i &lt; n; i++)
        sum = sum + array[i];
    aver = sum / n;
    return (aver);
}
</code></pre><h5 id="使用选择法对10个整数从小到大排序"><a href="#使用选择法对10个整数从小到大排序" class="headerlink" title="使用选择法对10个整数从小到大排序"></a>使用选择法对10个整数从小到大排序</h5><pre><code class="lang-c">#include&lt;stdio.h&gt;

int main()
{
    void sort(int array[], int n);
    int a[10], i;
    printf(&quot;please enter array:&quot;);
    for (i = 0; i &lt; 10; i++)
    {
        scanf(&quot;%d&quot;, &amp;a[i]);
    }
    sort(a, 10);
    printf(&quot;the sorted array:&quot;);
    for (i = 0; i &lt; 10; i++)
    {
        printf(&quot;%d&quot;, a[i]);
    }
    printf(&quot;/n&quot;);
    return 0;
}

void sort(int array[], int n)
{
    int i, j, k, t;
    for (i = 0; i &lt; n - 1; i++)
    {
        k = i;
        for (j = i + 1; j &lt; n; j++)
        {
            if (array[j] &lt; array[k])
                k = j;
            t = array[k];
            array[k] = array[i];
            array[i] = t;
        }
    }
}
</code></pre><h3 id="多维数组名作函数参数"><a href="#多维数组名作函数参数" class="headerlink" title="多维数组名作函数参数"></a>多维数组名作函数参数</h3><p>可以使用多维函数数组名作为函数的实参和形参.</p><blockquote><p>形参数组和实参数组都是由相同类型和大小的一维数组组成的.C语言编译系统<strong>不检查第一维</strong>的大小.</p></blockquote><h5 id="有一个3×4的矩阵-求所有元素的最大值"><a href="#有一个3×4的矩阵-求所有元素的最大值" class="headerlink" title="有一个3×4的矩阵,求所有元素的最大值."></a>有一个3×4的矩阵,求所有元素的最大值.</h5><pre><code class="lang-c">#include&lt;stdio.h&gt;

int main()
{
    int max_value(int array[][4]);
    int a[3][4] = {{1,  3,  5,  7},
                   {2,  4,  6,  8},
                   {15, 17, 34, 12}};
    printf(&quot;max value is %d&quot;, max_value(a));

}

int max_value(int array[][4])
{
    int max, i, j;
    max = array[0][0];
    for (i = 0; i &lt; 3; ++i)
    {
        for (j = 0; j &lt; 4; ++j)
        {
            if (array[i][j] &gt; max)
                max = array[i][j];
        }
    }
    return max;
}
</code></pre><blockquote><p>注意:</p><p>1.形参数组array第一维的大小省略,第2维大小不能省略,而且要和实参数组a的第2维大小相同.</p><p>2.在主函数调用max_value函数时,把实参二维数组a的第1行的起始地址传递给形参数组array.因此array数组第一行的起始地址与a数组的第一行起始地址相同.</p></blockquote><h1 id="局部变量和全局变量"><a href="#局部变量和全局变量" class="headerlink" title="局部变量和全局变量"></a>局部变量和全局变量</h1><p><strong>作用域</strong></p><p>每个变量都有作用域问题,即它们在什么范围内有效.</p><h3 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h3><p>定义变量有3种情况:</p><p>(1)在函数的开头定义</p><p>(2)在函数内的复合语句内定义</p><p>(3)在函数的外部定义</p><h4 id="说明"><a href="#说明" class="headerlink" title="说明:"></a>说明:</h4><p>1.主函数中定义的变量也只在主函数中有效</p><p>2.不同函数中可以使用同名的变量</p><p>3.形式参数也是局部变量</p><p>4.在一个函数内部,可以在复合语句中定义变量,这些变量只在本复合语句中有效,这种复合语句也称为”分程序”或”程序块”.离开复合语句,变量就无效,系统会把占用的内存资源释放.</p><h3 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h3><blockquote><p>程序的编译单位是源程序文件.</p></blockquote><p>在函数之内定义的变量是局部变量,</p><p>在函数之外定义的变量是外部变量,是<strong>全局变量</strong>.它的有效范围为从定义变量的位置开始到本源程序文件结束.</p><h5 id="非必要不建议使用全局变量"><a href="#非必要不建议使用全局变量" class="headerlink" title="非必要不建议使用全局变量:"></a>非必要不建议使用全局变量:</h5><p>1.在全部执行过程中都占用存储单元,而不是仅在需要时才开辟单元.</p><p>2.减低程序的清晰性,不易维护</p><h1 id="变量的存储方式和生存期"><a href="#变量的存储方式和生存期" class="headerlink" title="变量的存储方式和生存期"></a>变量的存储方式和生存期</h1><h4 id="动态存储方式和静态存储方式"><a href="#动态存储方式和静态存储方式" class="headerlink" title="动态存储方式和静态存储方式"></a>动态存储方式和静态存储方式</h4><p>从变量值的存在时间(即生存期)来分:</p><blockquote><p>静态存储方式:程序在运行期间由系统分配固定的存储空间的方式</p><p>动态存储方式:程序运行期间根据需要进行动态的分配存储空间的方式.</p></blockquote><p>数据分别存放在静态存储区和动态存储区,全局变量全部存放在静态存储区中.</p><blockquote><p>在<strong>动态存储区</strong>中存放以下数据:</p><p>①函数形式参数。在调用函数时给形参分配存储空间。</p><p>②函数中定义的没有用关键字static声明的变量,即自动变量.</p><p>③函数调用时的现场保护和返回地址.</p></blockquote><p>如果在一个程序中两次调用同一函数,而在此函数中定义了局部变量,在两次调用时分配给这些局部变量的存储空间的地址可能不一样.</p><p>每个变量和函数都有两个属性,<strong>数据类型</strong>(如整型,浮点型)和<strong>数据的存储类型</strong>(静态存储,动态存储).</p><blockquote><p>在定义和声明变量和函数时,一般应同时指定其数据数据类型和存储类型,也可以以默认的方式指定(即如果用户不指定,系统会隐含地指定为某一种存储类型).</p></blockquote><p>C的存储类别:</p><ul><li>自动的(auto)</li><li>静态的(static)</li><li>寄存器的(register)</li><li>外部的(extern)</li></ul><h2 id="局部变量的存储类别"><a href="#局部变量的存储类别" class="headerlink" title="局部变量的存储类别"></a>局部变量的存储类别</h2><h4 id="自动变量-auto变量"><a href="#自动变量-auto变量" class="headerlink" title="自动变量(auto变量)"></a>自动变量(auto变量)</h4><p>函数中的局部变量,如果不专门声明为static(静态)存储类型,都是动态地分配存储空间的,数据存储在动态存储区中.程序运行期间根据需要进行动态的分配存储空间的方式.因此这类局部变量称为自动变量.</p><p>自动变量用关键字auto作存储类别的声明.</p><pre><code class="lang-c">int f(int a) //定义f函数，a为形参
{
    auto int b, c = 3; //定义b，c为自动变量
}
</code></pre><p>执行完后自动释放a,b,c所占的存储单元.</p><blockquote><p>auto关键字可以省略,不写auto则隐含指定为”自动存储类别”,属于动态存储方式.</p></blockquote><h4 id="静态局部变量-static局部变量"><a href="#静态局部变量-static局部变量" class="headerlink" title="静态局部变量(static局部变量)"></a>静态局部变量(static局部变量)</h4><p>有时希望函数中的局部变量的值在函数调用结束后不消失而继续保留原值,即其占用的存储空间不释放,在下一次再调用该函数时,该变量已有值(就是上一次函数调用结束的值)</p><pre><code class="lang-C">#include&lt;stdio.h&gt;

int main()
{
    int f(int);
    int a = 2, i;
    for (i = 0; i &lt; 3; i++)
        printf(&quot;%d\n&quot;, f(a));
    return 0;
}

int f(int a)
{
    auto int b = 0;
    static c = 3;
    b = b + 1;
    c = c + 1;
    return (a + b + c);
}
--------
7
8
9
</code></pre><blockquote><p>对静态局部变量是在编译时赋初值的,即只赋值一次,在程序运行时它已有初值.</p><p>而对自动变量是在函数调用时进行的,每调用一次函数重新给一次初值.</p><p>在定义局部变量时不赋初值的话,则对静态变量来说,编译时自动赋初值0(对数值型变量)或空字符’\0’(对字符变量).</p><p>而对自动变量来说,它的值是一个不确定的值.由于每次函数调用结束后存储单元已释放,下次调用时又重新另分配存储单元,而所分配的单元内容是不可知的.</p></blockquote><h5 id="输出1到5的阶乘值-局部静态变量"><a href="#输出1到5的阶乘值-局部静态变量" class="headerlink" title="输出1到5的阶乘值.(局部静态变量)"></a>输出1到5的阶乘值.(局部静态变量)</h5><pre><code class="lang-c">#include&lt;stdio.h&gt;

int main()
{
    int fac(int);
    int i;
    for (i = 1; i &lt;= 5; ++i)
    {
        printf(&quot;%d!=%d\n&quot;, i, fac(i));
    }
    return 0;
}

int fac(int n)
{
    static int f = 1;//f保留了上次函数调用结束的值
    f = f * n;
    return (f);
}
</code></pre><blockquote><p>不建议使用静态存储,长期占用不释放.</p></blockquote><h4 id="寄存器变量-register变量"><a href="#寄存器变量-register变量" class="headerlink" title="寄存器变量(register变量)"></a>寄存器变量(register变量)</h4><blockquote><p>为提高执行效率，允许将局部变量的值放在CPU中的寄存器中，需要用时直接从寄存器取出参加运算，不必再到内存中取存取。</p></blockquote><p>优化的编译系统能够识别使用频繁的变量，从而自动地将这些变量放在寄存器中。因此实际上用register声明变量的必要性不大。</p><blockquote><p>三种局部变量的存储位置是不同的：</p><p>自动变量是存储在动态存储区；</p><p>静态局部变量是存储在静态存储区；</p><p>寄存器存储在CPU中的寄存器中。</p></blockquote><h2 id="全局变量的存储类型"><a href="#全局变量的存储类型" class="headerlink" title="全局变量的存储类型"></a>全局变量的存储类型</h2><h4 id="在一个文件内扩展外部变量的作用域"><a href="#在一个文件内扩展外部变量的作用域" class="headerlink" title="在一个文件内扩展外部变量的作用域"></a>在一个文件内扩展外部变量的作用域</h4><blockquote><p>如果由于某种考虑，在定义点之前的函数需要引用该外部变量，则在引用之前用关键字<code>extern</code>对该变量作<strong>“外部变量声明”</strong>，表示把该外部变量的作用域扩展到此位置。</p></blockquote><h5 id="调用函数，求3个整数中的大者。"><a href="#调用函数，求3个整数中的大者。" class="headerlink" title="调用函数，求3个整数中的大者。"></a><strong>调用函数，求3个整数中的大者。</strong></h5><pre><code class="lang-c">#include&lt;stdio.h&gt;

int main()
{
    int max();
    int i;
    extern int A, B, C;
    printf(&quot;please enter three integer numbers:&quot;);
    scanf(&quot;%d %d %d&quot;, &amp;A, &amp;B, &amp;C);
    printf(&quot;max is %d\n&quot;, max());
    return 0;
}

int A, B, C;

int max()
{
    int m;
    m = A &gt; B ? A : B;
    if (C &gt; m)m = C;
    return m;
}
</code></pre><h4 id="将外部变量的作用域扩展到其他文件"><a href="#将外部变量的作用域扩展到其他文件" class="headerlink" title="将外部变量的作用域扩展到其他文件"></a>将外部变量的作用域扩展到其他文件</h4><h5 id="给定b的值，输入a和m，求a-b和-a-m-的值"><a href="#给定b的值，输入a和m，求a-b和-a-m-的值" class="headerlink" title="给定b的值，输入a和m，求a*b和$a^m$的值"></a>给定b的值，输入a和m，求a*b和$a^m$的值</h5><pre><code class="lang-c">#include&lt;stdio.h&gt;

//file1.c
int A;

int main()
{
    int power(int);
    int b = 3, c, d, m;
    printf(&quot;please enter the number a and its power m:\n&quot;);
    scanf(&quot;%d,%d&quot;, &amp;A, &amp;m);
    c = A * b;
    printf(&quot;%d*%d=%d\n&quot;, A, b, c);
    d = power(m);
    printf(&quot;%d**%d=%d\n&quot;, A, m, d);
    return 0;
}

//file2.c
extern  A;

int power(int n)
{
    int i, y = 1;
    for (i = 1; i &lt;= n; i++)
        y *= A;
    return y;
}
</code></pre><blockquote><p>extern既可以用来扩展外部变量在本文件的作用域,又可以使外部变量的作用域从一个文件扩展到程序中的其他文件,那么系统怎么区别处理呢?</p><p>在编译时遇到extern时,先在本文件中找外部变量的定义,如果找到,则在本文件中扩展作用域;</p><p>如果找不到,就在连接时从其他文件找到外部变量的定义,如果从其他文件中找到了,就将作用域扩展到本文件;如果再找不到,就按出错处理.</p></blockquote><h4 id="将外部变量的作用域限制在本文件中"><a href="#将外部变量的作用域限制在本文件中" class="headerlink" title="将外部变量的作用域限制在本文件中"></a>将外部变量的作用域限制在本文件中</h4><p>有时在程序设计中希望某些外部变量只限于被本文件引用,而不能被其他文件引用,这时可以在定义外部变量时加一个<code>static</code>声明.</p><p>加上<code>static</code>声明,只能用于本文件的外部变量称为<code>静态外部变量</code>.这就为程序的模块化,通用性提供方便.</p><p>如果已确认其他文件不需要引用本文件的外部变量,就可以对本文件的外部变量都加上static,成为静态外部变量,以免被其他文件误用.这就相当于把本文件的外部变量对外界”屏蔽起来”,从其他文件的角度看,这个<code>静态外部变量</code>是”看不见的,不能用的”.</p><blockquote><p>用<code>static</code>声明一个变量的作用:</p><ul><li>对局部变量使用:</li></ul><p>把它分配在静态存储区,该变量在整个程序执行期间不释放,其所分配的空间始终存在.</p><ul><li>对全局变量使用:</li></ul><p>则该变量的作用域只限于本文件模块(即被声明的文件中).</p></blockquote><h5 id="注意"><a href="#注意" class="headerlink" title="注意:"></a>注意:</h5><p>auto,static,register声明变量时,是在定义变量的基础上加上这些关键字,不能<strong>单独使用</strong></p><p>如:</p><pre><code class="lang-c">    int a;
    static a; //企图将变量a声明为静态变量
</code></pre><p>编译时会被认为”重新定义”.</p><h1 id="关于变量的声明和定义"><a href="#关于变量的声明和定义" class="headerlink" title="关于变量的声明和定义"></a>关于变量的声明和定义</h1><ul><li>定义:建立存储空间的声明(“int a;”),定义性声明</li><li>声明:不建立存储空间的声明(“extern a;”),引用性声明</li></ul><p>声明包括定义,但并非所有的声明都是定义.</p><h1 id="内部函数和外部函数"><a href="#内部函数和外部函数" class="headerlink" title="内部函数和外部函数"></a>内部函数和外部函数</h1><h3 id="内部函数"><a href="#内部函数" class="headerlink" title="内部函数"></a>内部函数</h3><p>如果一个函数只能被本文件中的其他函数所调用，它称为<strong>内部函数</strong>，在定义内部函数时，在函数名和函数类型的前面加static，即：</p><pre><code class="lang-c">static 类型名 函数名(形参表)
static int fun(int a,int b)
</code></pre><p>内部函数又被称为静态函数，因为它是用static声明的。使用内部函数，可以使函数的作用域只局限于所在文件。这样，在不同的文件中即使有同名的内部函数，也互不干扰，不必担心所用函数是否会与其他文件中的模块中的函数同名。</p><h3 id="外部函数"><a href="#外部函数" class="headerlink" title="外部函数"></a>外部函数</h3><p>如果在定义函数时，在函数首部的最左端加关键字extern，则此函数是外部函数，可供其他文件使用。</p><p>如函数首部可以为：</p><pre><code class="lang-c">extern int fun(int a,int b)
</code></pre><p>这样，函数fun就可以为其他文件调用。c语言规定，如果在定义函数时省略extern，则默认为<strong>外部函数</strong>。</p><h5 id="有一个字符串，内有若干个字符，现输入一个字符，要求程序将字符串中该字符删去。"><a href="#有一个字符串，内有若干个字符，现输入一个字符，要求程序将字符串中该字符删去。" class="headerlink" title="有一个字符串，内有若干个字符，现输入一个字符，要求程序将字符串中该字符删去。"></a>有一个字符串，内有若干个字符，现输入一个字符，要求程序将字符串中该字符删去。</h5><pre><code class="lang-c">#include&lt;stdio.h&gt;

//file1.c
int main()
{
    extern void enter_string(char str[80]);
    extern void delete_string(char str[], char ch);
    extern void print_string(char str[]);
    char c, str[80];
    enter_string(str);
    scanf(&quot;%c&quot;, &amp;c);//输入需要删除的字符
    delete_string(str, c);
    print_string(str);
    return 0;
}


//file2.c
void enter_string(char str[80])
{
    gets(str);
}

//file3.c
void delete_string(char str[], char ch)
{
    int i, j;
    for (int i = j = 0; str[i] != &#39;\0&#39;; i++)
        if (str[i] != ch)
            str[j++] = str[i];
    str[j] = &#39;\0&#39;;
}

//file4.c
void print_string(char str[])
{
    printf(&quot;%s\n&quot;, str);
}
</code></pre><blockquote><p>extern可以省略</p></blockquote><div class="footer"><div class="copyright"><blockquote><p>博客内容遵循 署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0) 协议</p><p>本文永久链接是：<a href="https://blog.kayleh.top/realize-modular-programming-with-functions/">https://blog.kayleh.top/realize-modular-programming-with-functions/</a></p></blockquote></div><div class="donate"><div class="imgs"><img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/wechatpay.jpg"> <img src="https://cdn.jsdelivr.net/gh/kayleh/cdn/img/alipay.jpg"></div></div></div><div class="article-meta" id="bottom"><div class="new-meta-box"><div class="new-meta-item date" itemprop="dateUpdated" datetime="2021-04-12T01:11:28+08:00"><a class="notlink"><i class="fas fa-edit fa-fw" aria-hidden="true"></i><p>更新于：2021年4月12日</p></a></div><div class="new-meta-item meta-tags"><a class="tag" href="/tags/C/" rel="nofollow"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i><p>C</p></a></div><div class="new-meta-item share -mob-share-list"><div class="-mob-share-list share-body"><a class="-mob-share-qq" rel="external nofollow noopener noreferrer noopener" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.kayleh.top/realize-modular-programming-with-functions/&title=realize modular programming with functions - Kayleh&summary=" target="_blank"><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qq.png"> </a><a class="-mob-share-qzone" rel="external nofollow noopener noreferrer noopener" href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://blog.kayleh.top/realize-modular-programming-with-functions/&title=realize modular programming with functions - Kayleh&summary=" target="_blank"><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qzone.png"> </a><a class="-mob-share-weibo" rel="external nofollow noopener noreferrer noopener" href="http://service.weibo.com/share/share.php?url=https://blog.kayleh.top/realize-modular-programming-with-functions/&title=realize modular programming with functions - Kayleh&summary=" target="_blank"><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/weibo.png"></a><div class="hoverbox"><a class="share"><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/wechat.png"></a><div class="target"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATgAAAE4CAAAAADqFLC2AAADq0lEQVR42u3aQXLjMAwEQP//07v3VKXEAUAbSZo3ry2JbF1mB3n9s0rrhQAcOHDgLHDglsC9iuvxAQ+/+/p9+tyn67vP+fZ+4MCBAwcOHDhwy+COA+AhSAr+3ffp/qbvBw4cOHDgwIED91PgpoJn9X5P16cw1UAMDhw4cODAgQP3V+BuFZspZPfFgwMHDhw4cODA/TW40+vSoNwtJMGBAwcOHDhw4P4K3Ns3Uiwy04H4ukk+OHDgwIEDBw7cEFy6ugPgT38unxccOHDgwIEDB24JXHelG50K1OnAeuy84MCBAwcOHDhwS+CqAbFaPE5/34WNzwcOHDhw4MCBA7cE7mlQe7vArAbeFKob5MGBAwcOHDhw4LbBdcFOD9ItFqsB/PokHxw4cODAgQMH7kNwaaE5NaieGkh3C9H4HODAgQMHDhw4cMvhqgXk1P3SF1KFHA/A4MCBAwcOHDhwb4KrBshu8E0PlBaW6Qs8vg4cOHDgwIEDB24pXHWw3D3o7aKzes7jAAwOHDhw4MCBA7cELg2SaRGZFqRTg+V2cAYHDhw4cODAgVsKVw2Wp4BTA+RuAC//BwAcOHDgwIEDB24J3PRAOS0Sq0F1elB+vD9w4MCBAwcOHLhlcGkwnAqeaRF5uu9bBS04cODAgQMHDtw2uHTQO1UYpgG2+qLS+3y7b3DgwIEDBw4cuCVw1aCbBtKpovJ2EH+EBAcOHDhw4MCBWwKXPrg7AO4Wpul+xn8HDhw4cODAgQO3BK5a/FWD7PTvp4L38QsEBw4cOHDgwIFbDlcd2FbBTwfRp8+dKj7jAAwOHDhw4MCBA/dmuHQDVehuoVh9Ed0iFRw4cODAgQMHbitcevCpA0wF1G5QPn5x4MCBAwcOHDhwy+C6A+M0wFaDcfpiu/t8HEiDAwcOHDhw4MAtg5uCqMKnL/A0aFcH6uDAgQMHDhw4cD8F7laxWAXuFqHVVS4ywYEDBw4cOHDgLsN1VzdoVgfc1SKyXZCCAwcOHDhw4MAtgRsLhuEfKI4NiC99Pi4ywYEDBw4cOHDgPgyXBt7pAXZaTKbB/FoABgcOHDhw4MCBWwKXFohTA+IU+Nbg+fEzOHDgwIEDBw7cL4Prwp4G0nRAPX4ecODAgQMHDhy4XwZXDb4pwFQhWS1CwYEDBw4cOHDgtsKlA+mpF1A+SHEAXv0eHDhw4MCBAwduG9z0ADctJJ/uU/339LrHfYEDBw4cOHDgwC2Bs8KCEwE4cODAWeDAfXb9B4fkgYinzNqIAAAAAElFTkSuQmCC"></div></div><a class="-mob-share-telegram" rel="external nofollow noopener noreferrer noopener" href="https://t.me/share/url?url=https://blog.kayleh.top/realize-modular-programming-with-functions/&text=realize modular programming with functions - Kayleh" target="_blank"><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/telegram.png"></a></div></div></div></div><div class="prev-next"><a class="prev" href="/Good-use-of-pointers/"><p class="title"><i class="fas fa-chevron-left" aria-hidden="true"></i>Good use of pointers</p><p class="content">善于利用指针 Good use of pointers 指针如果在程序中定义了一个变量，在对程序进行编译时，系统就会给这个变量分配内存单元。编译系统根据程序中定义的变量类型，分配一定长度的空间...</p></a><a class="next" href="/use-arrays-to-process-batch-data/"><p class="title">use-arrays-to-process-batch-data<i class="fas fa-chevron-right" aria-hidden="true"></i></p><p class="content">利用数组处理批量数据 use-arrays-to-process-batch-data 1.数组使一组有序数据的集合. 2.用一个数组名和下标来唯一地确定数组中的元素 3.数组中的每一个元素都...</p></a></div></article><article class="post white-box reveal shadow" id="comments"><p ct><i class="fas fa-comments"></i> 评论</p><div id="valine_container" class="valine_thread"><i class="fas fa-cog fa-spin fa-fw fa-2x"></i></div></article></div><aside class="l_side"><section class="widget toc-wrapper shadow desktop mobile" id="toc-div"><header><i class="fas fa-list fa-fw" aria-hidden="true"></i><span class="name">本文目录</span></header><div class="content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#怎么定义函数"><span class="toc-text">怎么定义函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#定义无参函数"><span class="toc-text">定义无参函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#定义有参函数"><span class="toc-text">定义有参函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#定义空函数"><span class="toc-text">定义空函数</span></a></li></ol></li></ol><li class="toc-item toc-level-2"><a class="toc-link" href="#调用函数"><span class="toc-text">调用函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#函数调用的形式"><span class="toc-text">函数调用的形式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#函数调用方式"><span class="toc-text">函数调用方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#函数调用时的数据传递"><span class="toc-text">函数调用时的数据传递</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#形式参数和实际参数"><span class="toc-text">形式参数和实际参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#实参和形参间的数据传递"><span class="toc-text">实参和形参间的数据传递</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#输入两个整数-要求输出其中值较大者-要求用函数来找到最大值"><span class="toc-text">输入两个整数,要求输出其中值较大者,要求用函数来找到最大值.</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#函数调用的执行过程"><span class="toc-text">函数调用的执行过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#函数的返回值"><span class="toc-text">函数的返回值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#对被调用函数的声明和函数原型"><span class="toc-text">对被调用函数的声明和函数原型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#函数声明的两种形式"><span class="toc-text">函数声明的两种形式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#函数的嵌套调用"><span class="toc-text">函数的嵌套调用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#输入4个整数-找出其中最大的数"><span class="toc-text">输入4个整数,找出其中最大的数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#函数的递归调用"><span class="toc-text">函数的递归调用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#用递归的方法求n"><span class="toc-text">用递归的方法求n! .</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#汉诺塔问题"><span class="toc-text">汉诺塔问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数组作为函数参数"><span class="toc-text">数组作为函数参数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#输入10个数-要求输出其中值最大的元素和该数是第几个数"><span class="toc-text">输入10个数,要求输出其中值最大的元素和该数是第几个数.</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一维数组名作函数参数"><span class="toc-text">一维数组名作函数参数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#有一个一维数组score-内放10个学生成绩-求平均成绩"><span class="toc-text">有一个一维数组score,内放10个学生成绩,求平均成绩.</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#有两个班级-分别有35名和39名学生-调用一个average函数-分别求两个班的学生的平均成绩"><span class="toc-text">有两个班级,分别有35名和39名学生,调用一个average函数,分别求两个班的学生的平均成绩.</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#使用选择法对10个整数从小到大排序"><span class="toc-text">使用选择法对10个整数从小到大排序</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#多维数组名作函数参数"><span class="toc-text">多维数组名作函数参数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#有一个3×4的矩阵-求所有元素的最大值"><span class="toc-text">有一个3×4的矩阵,求所有元素的最大值.</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#局部变量"><span class="toc-text">局部变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#说明"><span class="toc-text">说明:</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#全局变量"><span class="toc-text">全局变量</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#非必要不建议使用全局变量"><span class="toc-text">非必要不建议使用全局变量:</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#动态存储方式和静态存储方式"><span class="toc-text">动态存储方式和静态存储方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#局部变量的存储类别"><span class="toc-text">局部变量的存储类别</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#自动变量-auto变量"><span class="toc-text">自动变量(auto变量)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#静态局部变量-static局部变量"><span class="toc-text">静态局部变量(static局部变量)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#输出1到5的阶乘值-局部静态变量"><span class="toc-text">输出1到5的阶乘值.(局部静态变量)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#寄存器变量-register变量"><span class="toc-text">寄存器变量(register变量)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#全局变量的存储类型"><span class="toc-text">全局变量的存储类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#在一个文件内扩展外部变量的作用域"><span class="toc-text">在一个文件内扩展外部变量的作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#调用函数，求3个整数中的大者。"><span class="toc-text">调用函数，求3个整数中的大者。</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#将外部变量的作用域扩展到其他文件"><span class="toc-text">将外部变量的作用域扩展到其他文件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#给定b的值，输入a和m，求a-b和-a-m-的值"><span class="toc-text">给定b的值，输入a和m，求a*b和$a^m$的值</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#将外部变量的作用域限制在本文件中"><span class="toc-text">将外部变量的作用域限制在本文件中</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#注意"><span class="toc-text">注意:</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#内部函数"><span class="toc-text">内部函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#外部函数"><span class="toc-text">外部函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#有一个字符串，内有若干个字符，现输入一个字符，要求程序将字符串中该字符删去。"><span class="toc-text">有一个字符串，内有若干个字符，现输入一个字符，要求程序将字符串中该字符删去。</span></a></li></ol></li></div></section></aside><script>window.pdata={},pdata.ispage=!0,pdata.postTitle="realize modular programming with functions",pdata.commentPath="",pdata.commentPlaceholder="";var l_header=document.getElementById("l_header");l_header.classList.remove("show")</script></div><script src="/live2d-widget/autoload.js"></script><footer class="footer clearfix"><br><br><div class="aplayer-container"></div><br><div class="social-wrapper"><a href="https://github.com/Kayleh" class="social fas fa-github flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a></div><div><p>博客内容遵循 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0) 协议</a></p></div><div></div><div class="copyright"><p><a href="/">Copyright © 2019-2021 Kayleh</a></p></div><div style="text-align:center"><a href="https://info.flagcounter.com/cDh1" target="_blank" rel="noopener"><img src="https://s11.flagcounter.com/count/cDh1/bg_49B1F5/txt_000000/border_49B1F5/columns_4/maxflags_16/viewers_0/labels_1/pageviews_0/flags_0/percent_1/" alt="Flag Counter" border="0"></a></div></footer><a id="s-top" class="fas fa-arrow-up fa-fw" href="javascript:void(0)"></a></div></div><div><script>function loadScript(e,t){var n=document.getElementsByTagName("head")[0]||document.documentElement,o=document.createElement("script");o.setAttribute("type","text/javascript"),t&&(o.onload=t),o.setAttribute("src",e),n.appendChild(o)}window.volantis={},window.volantis.loadcss=document.getElementById("loadcss");var loadCSS=function(e,t,n,o){var d,i=window.document,r=i.createElement("link"),a=t||(d=(i.body||i.getElementsByTagName("head")[0]).childNodes)[d.length-1],s=i.styleSheets;if(o)for(var l in o)o.hasOwnProperty(l)&&r.setAttribute(l,o[l]);r.rel="stylesheet",r.href=e,r.media="only x",function e(t){return i.body?t():void setTimeout(function(){e(t)})}(function(){a.parentNode.insertBefore(r,t?a:a.nextSibling)});var c=function(e){for(var t=r.href,n=s.length;n--;)if(s[n].href===t)return e();setTimeout(function(){c(e)})};function u(){r.addEventListener&&r.removeEventListener("load",u),r.media=n||"all"}return r.addEventListener&&r.addEventListener("load",u),(r.onloadcssdefined=c)(u),r}</script><script>loadCSS("https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14/css/all.min.css",window.volantis.loadcss),loadCSS("https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css",window.volantis.loadcss),loadCSS("https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.css",window.volantis.loadcss),loadCSS("https://cdn.jsdelivr.net/npm/highlight.js@9.18.1/styles/solarized-light.css",window.volantis.loadcss)</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.5/dist/jquery.min.js"></script><script>function pjax_fancybox(){$(".md .gallery").find("img").each(function(){var a=document.createElement("a");$(a).attr("class","fancybox"),$(a).attr("pjax-fancybox",""),$(a).attr("href",$(this).attr("src")),$(this).attr("data-original")&&$(a).attr("href",$(this).attr("data-original")),$(a).attr("data-fancybox","images");var t="";$(this).attr("alt")&&($(a).attr("data-caption",$(this).attr("alt")),t=$(this).attr("alt"));var n=document.createElement("div");$(n).addClass("fancybox"),$(this).wrap(n);var e=document.createElement("span");$(e).addClass("image-caption"),$(e).text(t),$(this).after(e),$(this).wrap(a)}),$(".md .gallery").find("img").fancybox({selector:'[data-fancybox="images"]',hash:!1,loop:!1,closeClick:!0,helpers:{overlay:{closeClick:!0}},buttons:["zoom","close"]})}function SCload_fancybox(){0!=$(".md .gallery").find("img").length&&(loadCSS("https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css",document.getElementById("loadcss")),setTimeout(function(){loadScript("https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js",pjax_fancybox)},1))}$(function(){SCload_fancybox()})</script><script src="https://cdn.jsdelivr.net/npm/jquery-backstretch@2.1.18/jquery.backstretch.min.js"></script><script type="text/javascript">var imgs=["https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/001.jpg","https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/002.jpg","https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/003.jpg","https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/004.jpg","https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/005.jpg","https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/006.jpg","https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/012.jpg","https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/016.jpg","https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/019.jpg","https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg","https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/033.jpg","https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/034.jpg","https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/035.jpg","https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/038.jpg","https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/039.jpg","https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/042.jpg","https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/046.jpg","https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/051.jpg","https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/052.jpg","https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/054.jpg","https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/056.jpg"];function shuffle(t){for(var n=t.length;n--;){var i=Math.floor(Math.random()*n),l=t[i];t[i]=t[n],t[n]=l}}function Pjax_backstretch(){$.backstretch(imgs,{duration:"5000",fade:"1500"})}shuffle(imgs),loadScript("https://cdn.jsdelivr.net/npm/jquery-backstretch@2.1.18/jquery.backstretch.min.js",Pjax_backstretch)</script><div id="rightmenu-wrapper"><ul class="list-v rightmenu" id="rightmenu-content"><li class="option"><a class="vlts-menu opt fix-cursor-default" id="menu-copy-text" onclick='document.execCommand("copy")'><i class="fa fa-copy fa-fw"></i>复制文本</a><hr id="hr-text"><a class="vlts-menu opt fix-cursor-default" id="menu-copy-href"><i class="fa fa-link fa-fw"></i>复制链接</a> <a class="vlts-menu opt fix-cursor-default" id="menu-open-href"><i class="fa fa-external-link-square-alt fa-fw"></i>在新标签页打开</a><hr id="hr-href"><a class="vlts-menu opt fix-cursor-default" id="menu-copy-src"><i class="fa fa-image fa-fw"></i>复制图片地址</a><hr id="hr-src"></li><li class="navigation"><a class="nav icon-only fix-cursor-default" onclick="history.back()"><i class="fa fa-arrow-left fa-fw"></i></a> <a class="nav icon-only fix-cursor-default" onclick="history.forward()"><i class="fa fa-arrow-right fa-fw"></i></a> <a class="nav icon-only fix-cursor-default" onclick="window.location.reload()"><i class="fa fa-redo fa-fw"></i></a> <a class="nav icon-only fix-cursor-default" href="/"><i class="fa fa-home fa-fw"></i></a></li><hr><li><a class="vlts-menu fix-cursor-default" href="/about" id="about"><i class="fa fa-question fa-fw"></i> 我</a></li><hr><li><a class="vlts-menu fix-cursor-default" onclick='document.execCommand("print")'><i class="fa fa-print fa-fw"></i> 打印页面</a></li><hr><li><a class="vlts-menu fix-cursor-default" href="mailto:kaylehisdied@gmail.com" id="mailto:kaylehisdied@gmailcom"><i class="fa fa-fan fa-spin fa-fw"></i> 联系</a></li></ul></div><script>window.document.oncontextmenu = function (event) {
      if (event.ctrlKey) return true;
      if (/Android|webOS|BlackBerry/i.test(navigator.userAgent)) return true;
      return popMenu(event);
    };
    document.addEventListener("click", function (event) {
      var mymenu = document.getElementById('rightmenu-wrapper');
      mymenu.style.display = "none";
    });
    function popMenu(event) {
      var mymenu = document.getElementById('rightmenu-wrapper');
      var menuContent = document.getElementById('rightmenu-content');
      var screenWidth = document.documentElement.clientWidth || document.body.clientWidth;
      var screenHeight = document.documentElement.clientHeight || document.body.clientHeight;
      mymenu.style.left = event.clientX + "px"; // 获取鼠标位置
      mymenu.style.top = event.clientY + "px";
      mymenu.style.display = 'block';
      if (event.clientX * 2 > screenWidth) {
        menuContent.classList.add('left');
      } else {
        menuContent.classList.remove('left');
      }
      if (event.clientY * 2 > screenHeight) {
        menuContent.classList.add('top');
      } else {
        menuContent.classList.remove('top');
      }

      let hrText = document.getElementById('hr-text');
      let hrSrc = document.getElementById('hr-src');
      let hrHref = document.getElementById('hr-href');

      // 选中图片
      let copySrc = document.getElementById('menu-copy-src');
      if (copySrc != undefined) {
        if (event.target.currentSrc) {
          copySrc.style.display = 'block';
          copySrc.addEventListener("click", function (e) {
            copyString(event.target.currentSrc);
          },{once: true});
          hrSrc.style.display = 'block';
        } else {
          copySrc.style.display = 'none';
          hrSrc.style.display = 'none';
        }
      }

      // 选中按钮
      // 判断是不是按钮
      let href = '';
      if (event.path) {
        for (i = 0; i < event.path.length; i++) {
          if (event.path[i].href != undefined && event.path[i].href.length > 0) {
            href = event.path[i].href;
          }
        }
      }

      let copyText = document.getElementById('menu-copy-text');
      copyText.style.display = 'none';
      hrText.style.display = 'none';
      if (href.length == 0) {
        // 选中文本
        if (window.getSelection().toString()) {
          if ('true' == 'true') {
            copyText.style.display = 'block';
            hrText.style.display = 'block';
          }
        }
      }

      // 在新标签页打开
      let openHref = document.getElementById('menu-open-href');
      if (openHref != undefined) {
        if (href.length > 0) {
          openHref.style.display = 'block';
          openHref.addEventListener("click", function (e) {
            window.open(href);
          },{once: true});
          hrHref.style.display = 'block';
        } else {
          openHref.style.display = 'none';
          hrHref.style.display = 'none';
        }
      }
      // 复制链接
      let copyHref = document.getElementById('menu-copy-href');
      if (copyHref != undefined) {
        if (href.length > 0) {
          copyHref.style.display = 'block';
          copyHref.addEventListener("click", function (e) {
            copyString(href);
          },{once: true});
        } else {
          copyHref.style.display = 'none';
        }
      }

      // 有音乐播放器
      if ('' == true && ('help,hr,print,hr,contributors'||[]).includes('music')) {
        // 如果有aplayer，初始化一下
      	try {
      		checkAPlayer();
          updateTitle();
      	} catch (error) {
      		console.log(error);
      	}
      }

      return false; // 该行代码确保系统自带的右键菜单不会被调出
    }
    function hideMenu() {
      document.getElementById('rightmenu-wrapper').style.display = 'none';
    }
    function copyString(str) {
      const input = document.createElement('input');
      input.setAttribute('readonly', 'readonly');
      document.body.appendChild(input);
      input.setAttribute('value', str);
      input.select();
      document.execCommand('copy');
      document.body.removeChild(input);
    }
    document.execCommand('click');</script><script>window.FPConfig={delay:0,ignoreKeywords:[],maxRPS:5,hoverDelay:25}</script><script defer src="https://cdn.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script><script>var clipboard = new ClipboardJS('.btn-copy', {
        target: function (trigger) {
            return trigger.nextElementSibling
        }
    });
    function wait(callback, seconds) {
        var timelag = null;
        timelag = window.setTimeout(callback, seconds)
    }
    function pjax_initCopyCode() {
		if($(".highlight .code pre").length+$(".article pre code").length==0)return;
        var copyHtml = '';
        copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
        copyHtml += '<i class="fas fa-copy"></i><span>COPY</span>';
        copyHtml += '</button>';
        $(".highlight .code pre").before(copyHtml);
        $(".article pre code").before(copyHtml);
        clipboard.off('success').on('success', function (e) {
            let $btn = $(e.trigger);
            $btn.addClass('copied');
            let $icon = $($btn.find('i'));
            $icon.removeClass('fa-copy');
            $icon.addClass('fa-check-circle');
            let $span = $($btn.find('span'));
            $span[0].innerText = 'COPIED';
            wait(function () {
                $icon.removeClass('fa-check-circle');
                $icon.addClass('fa-copy');
                $span[0].innerText = 'COPY'
            }, 2000)
        });
        clipboard.off('error').on('error', function (e) {
            e.clearSelection();
            let $btn = $(e.trigger);
            $btn.addClass('copy-failed');
            let $icon = $($btn.find('i'));
            $icon.removeClass('fa-copy');
            $icon.addClass('fa-times-circle');
            let $span = $($btn.find('span'));
            $span[0].innerText = 'COPY FAILED';
            wait(function () {
                $icon.removeClass('fa-times-circle');
                $icon.addClass('fa-copy');
                $span[0].innerText = 'COPY'
            }, 2000)
        })
    }
    $(function () {
        pjax_initCopyCode()
    });</script><script src="https://cdn.jsdelivr.net/npm/scrollreveal@4.0.6/dist/scrollreveal.min.js"></script><script type="text/javascript">function pjax_scrollrebeal(){ScrollReveal().reveal(".l_main .reveal",{distance:"32px",duration:"800",interval:"20",scale:"1",easing:"ease-out"})}$(function(){pjax_scrollrebeal()})</script><script src="/js/valine.js"></script><script>var GUEST_INFO = ['nick', 'mail', 'link'];
  var meta = 'nick,mail,link'.split(',').filter(function (item) {
    return GUEST_INFO.indexOf(item) > -1
  });
  var REQUIRED_FIELDS = ['nick', 'mail', 'link'];
  var requiredFields = 'nick,mail'.split(',').filter(function (item) {
    return REQUIRED_FIELDS.indexOf(item) > -1
  });

  function emoji(path, idx, ext) {
    return path + "/" + path + "-" + idx + "." + ext;
  }

  var emojiMaps = {};
  for (var i = 1; i <= 54; i++) {
    emojiMaps['tieba-' + i] = emoji('tieba', i, 'png');
  }
  for (var i = 1; i <= 101; i++) {
    emojiMaps['qq-' + i] = emoji('qq', i, 'gif');
  }
  for (var i = 1; i <= 116; i++) {
    emojiMaps['aru-' + i] = emoji('aru', i, 'gif');
  }
  for (var i = 1; i <= 125; i++) {
    emojiMaps['twemoji-' + i] = emoji('twemoji', i, 'png');
  }
  for (var i = 1; i <= 4; i++) {
    emojiMaps['weibo-' + i] = emoji('weibo', i, 'png');
  }

  function pjax_valine() {
    if(!document.querySelectorAll("#valine_container")[0])return;

    let pagePlaceholder = pdata.commentPlaceholder || "快来评论吧~";

    let path = pdata.commentPath;
    if (path.length == 0) {
      let defaultPath = '';
      path = defaultPath || decodeURI(window.location.pathname);
    }

    var valine = new Valine();
    valine.init({
      el: '#valine_container',
      meta: meta,
      placeholder: pagePlaceholder,
      path: path,
      appId: "FgNaybmwy1yu74JH4lXMgH5S-gzGzoHsz",
      appKey: "OBHyEdMVsi8FSFA0aqJNh4HE",
      pageSize: '5',
      avatar: 'robohash',
      lang: 'zh-cn',
      visitor: 'true',
      highlight: 'true',
      mathJax: 'false',
      enableQQ: 'true',
      recordIP: 'false',
      requiredFields: requiredFields,
      emojiCDN: 'https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/valine/',
      emojiMaps: emojiMaps
    })
  }

  $(function () {
    pjax_valine();
  });</script><script defer src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-busuanzi@2.3/js/busuanzi.pure.mini.js" data-pjax></script><script src="/js/app.js"></script><script src="/js/search.js"></script><script>const SearchServiceimagePath="https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@master/img/";
const ROOT =  ("/" || "/").endsWith('/') ? ("/" || "/") : ("//" || "/" );
(function ($) {
  
    customSearch = new HexoSearch({
      imagePath: SearchServiceimagePath
    });
  
})(jQuery);</script><script src="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.js"></script><script type="text/javascript">$(function(){Waves.attach(".flat-btn",["waves-button"]),Waves.attach(".float-btn",["waves-button","waves-float"]),Waves.attach(".float-btn-light",["waves-button","waves-float","waves-light"]),Waves.attach(".flat-box",["waves-block"]),Waves.attach(".float-box",["waves-block","waves-float"]),Waves.attach(".waves-image"),Waves.init()})</script><script src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@2/js/comment_typing.js"></script><script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.1/build/highlight.min.js"></script><script>hljs.initHighlightingOnLoad()</script><script defer>const LCCounter = {
    app_id: 'FgNaybmwy1yu74JH4lXMgH5S-gzGzoHsz',
    app_key: 'OBHyEdMVsi8FSFA0aqJNh4HE',
    custom_api_server: '',

    // 查询存储的记录
    getRecord(Counter, url, title) {
      return new Promise(function (resolve, reject) {
        Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({url})))
          .then(resp => resp.json())
          .then(({results, code, error}) => {
            if (code === 401) {
              throw error;
            }
            if (results && results.length > 0) {
              var record = results[0];
              resolve(record);
            } else {
              Counter('post', '/classes/Counter', {url, title: title, times: 0})
                .then(resp => resp.json())
                .then((record, error) => {
                  if (error) {
                    throw error;
                  }
                  resolve(record);
                }).catch(error => {
                console.error('Failed to create', error);
                reject(error);
              });
            }
          }).catch((error) => {
          console.error('LeanCloud Counter Error:', error);
          reject(error);
        });
      })
    },

    // 发起自增请求
    increment(Counter, incrArr) {
      return new Promise(function (resolve, reject) {
        Counter('post', '/batch', {
          "requests": incrArr
        }).then((res) => {
          res = res.json();
          if (res.error) {
            throw res.error;
          }
          resolve(res);
        }).catch((error) => {
          console.error('Failed to save visitor count', error);
          reject(error);
        });
      });
    },

    // 构建自增请求体
    buildIncrement(objectId) {
      return {
        "method": "PUT",
        "path": `/1.1/classes/Counter/${ objectId }`,
        "body": {
          "times": {
            '__op': 'Increment',
            'amount': 1
          }
        }
      }
    },

    // 校验是否为有效的 UV
    validUV() {
      var key = 'LeanCloudUVTimestamp';
      var flag = localStorage.getItem(key);
      if (flag) {
        // 距离标记小于 24 小时则不计为 UV
        if (new Date().getTime() - parseInt(flag) <= 86400000) {
          return false;
        }
      }
      localStorage.setItem(key, new Date().getTime().toString());
      return true;
    },

    addCount(Counter) {
      var enableIncr = '' === 'true' && window.location.hostname !== 'localhost';
      enableIncr = true;
      var getterArr = [];
      var incrArr = [];
      // 请求 PV 并自增
      var pvCtn = document.querySelector('#lc-sv');
      if (pvCtn || enableIncr) {
        var pvGetter = this.getRecord(Counter, 'https://blog.kayleh.top' + '/#lc-sv', 'Visits').then((record) => {
          incrArr.push(this.buildIncrement(record.objectId))
          var eles = document.querySelectorAll('#lc-sv #number');
          if (eles.length > 0) {
            eles.forEach((el,index,array)=>{
              el.innerText = record.times + 1;
              if (pvCtn) {
                pvCtn.style.display = 'inline';
              }
            })
          }
        });
        getterArr.push(pvGetter);
      }

      // 请求 UV 并自增
      var uvCtn = document.querySelector('#lc-uv');
      if (uvCtn || enableIncr) {
        var uvGetter = this.getRecord(Counter, 'https://blog.kayleh.top' + '/#lc-uv', 'Visitors').then((record) => {
          var vuv = this.validUV();
          vuv && incrArr.push(this.buildIncrement(record.objectId))
          var eles = document.querySelectorAll('#lc-uv #number');
          if (eles.length > 0) {
            eles.forEach((el,index,array)=>{
              el.innerText = record.times + (vuv ? 1 : 0);
              if (uvCtn) {
                uvCtn.style.display = 'inline';
              }
            })
          }
        });
        getterArr.push(uvGetter);
      }

      // 请求文章的浏览数，如果是当前页面就自增
      var allPV = document.querySelectorAll('#lc-pv');
      if (allPV.length > 0 || enableIncr) {
        for (i = 0; i < allPV.length; i++) {
          let pv = allPV[i];
          let title = pv.getAttribute('data-title');
          var url = 'https://blog.kayleh.top' + pv.getAttribute('data-path');
          if (url) {
            var viewGetter = this.getRecord(Counter, url, title).then((record) => {
              // 是当前页面就自增
              let curPath = window.location.pathname;
              if (curPath.includes('index.html')) {
                curPath = curPath.substring(0, curPath.lastIndexOf('index.html'));
              }
              if (pv.getAttribute('data-path') == curPath) {
                incrArr.push(this.buildIncrement(record.objectId));
              }
              if (pv) {
                var ele = pv.querySelector('#lc-pv #number');
                if (ele) {
                  if (pv.getAttribute('data-path') == curPath) {
                    ele.innerText = (record.times || 0) + 1;
                  } else {
                    ele.innerText = record.times || 0;
                  }
                  pv.style.display = 'inline';
                }
              }
            });
            getterArr.push(viewGetter);
          }
        }
      }

      // 如果启动计数自增，批量发起自增请求
      if (enableIncr) {
        Promise.all(getterArr).then(() => {
          incrArr.length > 0 && this.increment(Counter, incrArr);
        })
      }

    },


    fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${ api_server }/1.1${ url }`, {
          method,
          headers: {
            'X-LC-Id': this.app_id,
            'X-LC-Key': this.app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      this.addCount(Counter);
    },

    refreshCounter() {
      var api_server = this.app_id.slice(-9) !== '-MdYXbMMI' ? this.custom_api_server : `https://${ this.app_id.slice(0, 8).toLowerCase() }.api.lncldglobal.com`;
      if (api_server) {
        this.fetchData(api_server);
      } else {
        fetch('https://app-router.leancloud.cn/2/route?appId=' + this.app_id)
          .then(resp => resp.json())
          .then(({api_server}) => {
            this.fetchData('https://' + api_server);
          });
      }
    }

  };

  LCCounter.refreshCounter();

  document.addEventListener('pjax:complete', function () {
    LCCounter.refreshCounter();
  });</script><script>function listennSidebarTOC() {
  const navItems = document.querySelectorAll(".toc li");
  if (!navItems.length) return;
  const sections = [...navItems].map((element) => {
    const link = element.querySelector(".toc-link");
    const target = document.getElementById(
      decodeURI(link.getAttribute("href")).replace("#", "")
    );
    link.addEventListener("click", (event) => {
      event.preventDefault();
      window.scrollTo({
		top: target.offsetTop + 100,
		
		behavior: "smooth"
		
	  });
    });
    return target;
  });

  function activateNavByIndex(target) {
    if (target.classList.contains("active-current")) return;

    document.querySelectorAll(".toc .active").forEach((element) => {
      element.classList.remove("active", "active-current");
    });
    target.classList.add("active", "active-current");
    let parent = target.parentNode;
    while (!parent.matches(".toc")) {
      if (parent.matches("li")) parent.classList.add("active");
      parent = parent.parentNode;
    }
  }

  function findIndex(entries) {
    let index = 0;
    let entry = entries[index];
    if (entry.boundingClientRect.top > 0) {
      index = sections.indexOf(entry.target);
      return index === 0 ? 0 : index - 1;
    }
    for (; index < entries.length; index++) {
      if (entries[index].boundingClientRect.top <= 0) {
        entry = entries[index];
      } else {
        return sections.indexOf(entry.target);
      }
    }
    return sections.indexOf(entry.target);
  }

  function createIntersectionObserver(marginTop) {
    marginTop = Math.floor(marginTop + 10000);
    let intersectionObserver = new IntersectionObserver(
      (entries, observe) => {
        let scrollHeight = document.documentElement.scrollHeight + 100;
        if (scrollHeight > marginTop) {
          observe.disconnect();
          createIntersectionObserver(scrollHeight);
          return;
        }
        let index = findIndex(entries);
        activateNavByIndex(navItems[index]);
      },
      {
        rootMargin: marginTop + "px 0px -100% 0px",
        threshold: 0,
      }
    );
    sections.forEach((element) => {
      element && intersectionObserver.observe(element);
    });
  }
  createIntersectionObserver(document.documentElement.scrollHeight);
}

document.addEventListener("DOMContentLoaded", listennSidebarTOC);
document.addEventListener("pjax:success", listennSidebarTOC);</script><!-- more --><script async src="https://widget.daovoice.io/widget/38b1c911.js" charset="utf-8"></script><script data-ad-client="ca-pub-7457165067653912" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-7457165067653912" data-ad-slot="9837525717"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?2cd1dc193190f18fed292accb735c684";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>var pjax;
    document.addEventListener('DOMContentLoaded', function () {
      pjax = new Pjax({
        elements: 'a[href]:not([href^="#"]):not([href="javascript:void(0)"]):not([pjax-fancybox])',
        selectors: [
          "title",
          "#l_cover",
          "#pjax-container",
          "#pjax-header-nav-list"
        ],
        cacheBust: false,   // url 地址追加时间戳，用以避免浏览器缓存
        timeout: 5000
      });
    });

    document.addEventListener('pjax:send', function (e) {
      //window.stop(); // 相当于点击了浏览器的停止按钮

      try {
        var currentUrl = window.location.pathname;
        var targetUrl = e.triggerElement.href;
        var banUrl = [""];
        if (banUrl[0] != "") {
          banUrl.forEach(item => {
            if(currentUrl.indexOf(item) != -1 || targetUrl.indexOf(item) != -1) {
              window.location.href = targetUrl;
            }
          });
        }
      } catch (error) {}

      window.subData = null; // 移除标题（用于一二级导航栏切换处）
      if (typeof $.fancybox != "undefined") {
        $.fancybox.close();    // 关闭弹窗
      }
      volantis.$switcher.removeClass('active'); // 关闭移动端激活的搜索框
      volantis.$header.removeClass('z_search-open'); // 关闭移动端激活的搜索框
      volantis.$wrapper.removeClass('sub'); // 跳转页面时关闭二级导航

      // 解绑事件 避免重复监听
      volantis.$topBtn.unbind('click');
      $('.menu a').unbind('click');
      $(window).unbind('resize');
      $(window).unbind('scroll');
      $(document).unbind('scroll');
      $(document).unbind('click');
      $('body').unbind('click');
	  
    });

    document.addEventListener('pjax:complete', function () {
      // 关于百度统计对 SPA 页面的处理：
      // 方案一：百度统计>管理>单页应用设置中，打开开启按钮即可对SPA进行统计。 https://tongji.baidu.com/web/help/article?id=324
      // 方案二：取消注释下列代码。 https://tongji.baidu.com/web/help/article?id=235
      // 

      // 关于谷歌统计对 SPA 页面的处理：
      // 当应用以动态方式加载内容并更新地址栏中的网址时，也应该更新通过 gtag.js 存储的网页网址。
      // https://developers.google.cn/analytics/devguides/collection/gtagjs/single-page-applications?hl=zh-cn
      

      $('.nav-main').find('.list-v').not('.menu-phone').removeAttr("style",""); // 移除小尾巴的移除
      $('.menu-phone.list-v').removeAttr("style",""); // 移除小尾巴的移除
      $('script[data-pjax], .pjax-reload script').each(function () {
        $(this).parent().append($(this).remove());
      });
      try{
          if (typeof $.fancybox == "undefined") {
            SCload_fancybox();
          } else {
            pjax_fancybox();
          }
        
		  Pjax_backstretch()
        
        
        document.querySelectorAll('pre code').forEach((block) => {
          hljs.highlightBlock(block);
        });
        
        
          pjax_scrollrebeal();
        
        
        
          pjax_initCopyCode();
        
        
          pjax_valine();
        
        
        
        
      } catch (e) {
        console.log(e);
      }
	  
    });

    document.addEventListener('pjax:error', function (e) {
	  
      window.location.href = e.triggerElement.href;
    });</script></div></body></html>