<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Kayleh"><title>Spring and Jwt · Kayleh</title><meta name="description" content="使用JWT1.引入依赖
            com.auth0
            java-jwt
            3.4.0
        

2.生成tokenpublic class createToken {
    public static void main(Str"><meta name="keywords" content=""><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/style-dark.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 4.2.0"><link rel="stylesheet" href="/css/prism.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head><body><div id="stage" class="container"><div class="row"><div id="side-bar" class="col-sm-3 col-xs-12 side-container invisible"><div class="vertical-text site-title"><h3 tabindex="-1" class="site-title-small"><a href="/" class="a-title">Kayleh</a></h3><h1 tabindex="-1" class="site-title-large"><a href="/" class="a-title">活版印字</a></h1></div><br class="visible-lg visible-md visible-sm"><div id="site-nav" class="site-title-links"><ul><li><a href="/">Home</a></li><li><a href="/archives">Archive</a></li><li><a href="/categories">Categories</a></li><li><a href="/tags">Tags</a></li><li><a href="/google8102e2f35ce9e391.html"></a></li><li><a href="/mainfest.json"></a></li><li><a href="/categories/categories.html"></a></li><li><a href="/about/index.html">about</a></li><li><a href="/link/index.html">友人帐</a></li><li class="soc"><a href="https://github.com/kayleh" target="_blank" rel="noopener noreferrer"><i class="fa fa-github">&nbsp;</i></a><a href="https://twitter.com/kayleh" target="_blank" rel="noopener noreferrer"><i class="fa fa-twitter">&nbsp;</i></a><a href="https://www.instagram.com/kayleh" target="_blank" rel="noopener noreferrer"><i class="fa fa-instagram">&nbsp;</i></a><a href="https://kayleh.top/atom.xml" target="_blank" rel="noopener noreferrer"><i class="fa fa-rss">&nbsp;</i></a></li></ul><div class="visible-lg visible-md visible-sm site-nav-footer"><br class="site-nav-footer-br"><footer><p>&copy;&nbsp;2021&nbsp;<a target="_blank" href="https://kayleh.top" rel="noopener noreferrer">Kayleh</a></p><span>visitors:<span id="busuanzi_value_site_pv"></span></span></footer></div></div></div><div id="main-container" class="col-sm-9 col-xs-12 main-container invisible"><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post-container"><p class="post-title"><a>Spring and Jwt</a></p><p class="post-meta"><span class="date meta-item">Posted at&nbsp;2021-05-24</span><span class="meta-item"><i class="fa fa-comment-o"></i><span>&nbsp;</span><a href="/spring-and-jwt/#comments">Comments</a></span></p><p class="post-abstract"></p><h1 id="使用JWT"><a href="#使用JWT" class="headerlink" title="使用JWT"></a>使用JWT</h1><h2 id="1-引入依赖"><a href="#1-引入依赖" class="headerlink" title="1.引入依赖"></a>1.引入依赖</h2><pre class="line-numbers language-lang-xml"><code class="language-lang-xml"><dependency>
            <groupid>com.auth0</groupid>
            <artifactid>java-jwt</artifactid>
            <version>3.4.0</version>
        </dependency>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-生成token"><a href="#2-生成token" class="headerlink" title="2.生成token"></a>2.生成token</h2><pre class="line-numbers language-lang-java"><code class="language-lang-java">public class createToken {
    public static void main(String[] args) {
        Calendar instance = Calendar.getInstance();
        instance.add(Calendar.SECOND, 90);
        //生成令牌
        String token = JWT.create()
                .withClaim("username", "张三")//设置自定义用户名
                .withExpiresAt(instance.getTime())//设置过期时间
                .sign(Algorithm.HMAC256("token!Q2W#E$RW"));//设置签名保密复杂
        //输出令牌
        System.out.println("--------token:" + token);
    }
}
-----
- 生成结果
eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOlsicGhvbmUiLCIxNDMyMzIzNDEzNCJdLCJleHAiOjE1OTU3Mzk0NDIsInVzZXJuYW1lIjoi5byg5LiJIn0.aHmE3RNqvAjFr_dvyn_sD2VJ46P7EGiS5OBMO_TI5jg
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3-根据令牌和签名解析数据"><a href="#3-根据令牌和签名解析数据" class="headerlink" title="3.根据令牌和签名解析数据"></a>3.根据令牌和签名解析数据</h2><pre class="line-numbers language-lang-java"><code class="language-lang-java">JWTVerifier jwtVerifier = JWT.require(Algorithm.HMAC256("token!Q2W#E$RW")).build();
DecodedJWT decodedJWT = jwtVerifier.verify(token);
System.out.println("用户名: " + decodedJWT.getClaim("username").asString());
System.out.println("过期时间: "+decodedJWT.getExpiresAt());
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4-常见异常信息"><a href="#4-常见异常信息" class="headerlink" title="4.常见异常信息"></a>4.常见异常信息</h2><ul><li>SignatureVerificationException: 签名不一致异常</li><li>TokenExpiredException: 令牌过期异常</li><li>AlgorithmMismatchException: 算法不匹配异常</li><li>InvalidClaimException: 失效的payload异常<br><img src="/spring-and-jwt/D:%5CHugo%5Chugo_0.75.1_Windows-64bit%5Cblog%5Ccontent%5Cposts%5Cspring-and-jwt%5C20210426122252495.png" alt="在这里插入图片描述"></li></ul><h1 id="封装工具类"><a href="#封装工具类" class="headerlink" title="封装工具类"></a>封装工具类</h1><pre class="line-numbers language-lang-java"><code class="language-lang-java">public class JWTUtils {
    private static String TOKEN = "JokerDJToken";
    /**
     * 生成token
     * @param map  //传入payload
     * @return 返回token
     */
    public static String getToken(Map<string ,string> map){
        JWTCreator.Builder builder = JWT.create();
        map.forEach((k,v)->{
            builder.withClaim(k,v);
        });
        Calendar instance = Calendar.getInstance();
        instance.add(Calendar.SECOND,7);
        builder.withExpiresAt(instance.getTime());
        return builder.sign(Algorithm.HMAC256(TOKEN)).toString();
    }
    /**
     * 验证token
     * @param token
     * @return
     */
    public static void verify(String token){
        JWT.require(Algorithm.HMAC256(TOKEN)).build().verify(token);
    }
    /**
     * 获取token中payload
     * @param token
     * @return
     */
    public static DecodedJWT getToken(String token){
        return JWT.require(Algorithm.HMAC256(TOKEN)).build().verify(token);
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></string></code></pre><h1 id="整合springboot"><a href="#整合springboot" class="headerlink" title="整合springboot"></a>整合springboot</h1><h2 id="0-搭建springboot-mybatis-jwt环境"><a href="#0-搭建springboot-mybatis-jwt环境" class="headerlink" title="0.搭建springboot+mybatis+jwt环境"></a>0.搭建springboot+mybatis+jwt环境</h2><ul><li>引入依赖</li><li>编写配置</li></ul><pre class="line-numbers language-lang-xml"><code class="language-lang-xml">
<dependency>
  <groupid>com.auth0</groupid>
  <artifactid>java-jwt</artifactid>
  <version>3.4.0</version>
</dependency>

<dependency>
  <groupid>org.mybatis.spring.boot</groupid>
  <artifactid>mybatis-spring-boot-starter</artifactid>
  <version>2.1.3</version>
</dependency>

<dependency>
  <groupid>org.projectlombok</groupid>
  <artifactid>lombok</artifactid>
  <version>1.18.12</version>
</dependency>

<dependency>
  <groupid>com.alibaba</groupid>
  <artifactid>druid</artifactid>
  <version>1.1.19</version>
</dependency>

<dependency>
  <groupid>mysql</groupid>
  <artifactid>mysql-connector-java</artifactid>
  <version>5.1.38</version>
</dependency>
------------------
server.port=8989
spring.application.name=jwt
spring.datasource.type=com.alibaba.druid.pool.DruidDataSource
spring.datasource.driver-class-name=com.mysql.jdbc.Driver
spring.datasource.url=jdbc:mysql://localhost:3306/jwt?characterEncoding=UTF-8
spring.datasource.username=root
spring.datasource.password=root
mybatis.type-aliases-package=com.baizhi.entity
mybatis.mapper-locations=classpath:com/baizhi/mapper/*.xml
logging.level.com.baizhi.dao=debug
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="1-开发数据库"><a href="#1-开发数据库" class="headerlink" title="1.开发数据库"></a>1.开发数据库</h2><ul><li>这里采用最简单的表结构验证JWT使用</li></ul><pre class="line-numbers language-lang-sql"><code class="language-lang-sql">DROP TABLE IF EXISTS `user`;
CREATE TABLE `user` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `name` varchar(80) DEFAULT NULL COMMENT '用户名',
  `password` varchar(40) DEFAULT NULL COMMENT '用户密码',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-开发entity"><a href="#2-开发entity" class="headerlink" title="2.开发entity"></a>2.开发entity</h2><pre class="line-numbers language-lang-java"><code class="language-lang-java">@Data
@Accessors(chain=true)
public class User {
    private String id;
    private String name;
    private String password;
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3-开发DAO接口和mapper-xml"><a href="#3-开发DAO接口和mapper-xml" class="headerlink" title="3.开发DAO接口和mapper.xml"></a>3.开发DAO接口和mapper.xml</h2><pre><code>@Mapper
public interface UserDAO {
    User login(User user);
}


&lt;mapper namespace=&quot;com.baizhi.dao.UserDAO&quot;&gt;
    &lt;!--这里就写的简单点了毕竟不是重点--&gt;
    &lt;select id=&quot;login&quot; parameterType=&quot;User&quot; resultType=&quot;User&quot;&gt;
        select * from user where name=#{name} and password = #{password}
    &lt;/select&gt;
&lt;/mapper&gt;
</code></pre><h2 id="4-开发Service-接口以及实现类"><a href="#4-开发Service-接口以及实现类" class="headerlink" title="4.开发Service 接口以及实现类"></a>4.开发Service 接口以及实现类</h2><pre class="line-numbers language-lang-java"><code class="language-lang-java">public interface UserService {
    User login(User user);//登录接口
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>impl</p><pre class="line-numbers language-lang-java"><code class="language-lang-java">@Service
@Transactional
public class UserServiceImpl implements UserService {
    @Autowired
    private UserDAO userDAO;
    @Override
    @Transactional(propagation = Propagation.SUPPORTS)
    public User login(User user) {
        User userDB = userDAO.login(user);
        if(userDB!=null){
            return userDB;
        }
        throw  new RuntimeException("登录失败~~");
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="5-开发controller"><a href="#5-开发controller" class="headerlink" title="5.开发controller"></a>5.开发controller</h2><pre class="line-numbers language-lang-java"><code class="language-lang-java">@RestController
@Slf4j
public class UserController {
    @Autowired
    private UserService userService;
    @GetMapping("/user/login")
    public Map<string ,object> login(User user) {
        Map<string ,object> result = new HashMap<>();
        log.info("用户名: [{}]", user.getName());
        log.info("密码: [{}]", user.getPassword());
        try {
            User userDB = userService.login(user);
            Map<string , string> map = new HashMap<>();//用来存放payload
            map.put("id",userDB.getId());
            map.put("username", userDB.getName());
            String token = JWTUtils.getToken(map);
            result.put("state",true);
            result.put("msg","登录成功!!!");
            result.put("token",token); //成功返回token信息
        } catch (Exception e) {
            e.printStackTrace();
            result.put("state","false");
            result.put("msg",e.getMessage());
        }
        return result;
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></string></string></string></code></pre><p><img src="/spring-and-jwt/D:%5CHugo%5Chugo_0.75.1_Windows-64bit%5Cblog%5Ccontent%5Cposts%5Cspring-and-jwt%5C20210426122931619.png" alt="在这里插入图片描述"></p><h2 id="6-数据库添加测试数据启动项目"><a href="#6-数据库添加测试数据启动项目" class="headerlink" title="6.数据库添加测试数据启动项目"></a>6.数据库添加测试数据启动项目</h2><p><img src="/spring-and-jwt/D:%5CHugo%5Chugo_0.75.1_Windows-64bit%5Cblog%5Ccontent%5Cposts%5Cspring-and-jwt%5C20210426122959260.png" alt="在这里插入图片描述"></p><h2 id="7-通过postman模拟登录失败"><a href="#7-通过postman模拟登录失败" class="headerlink" title="7.通过postman模拟登录失败"></a>7.通过postman模拟登录失败</h2><p><img src="/spring-and-jwt/D:%5CHugo%5Chugo_0.75.1_Windows-64bit%5Cblog%5Ccontent%5Cposts%5Cspring-and-jwt%5C20210426123015114.png" alt="在这里插入图片描述"></p><h2 id="8-通过postman模拟登录成功"><a href="#8-通过postman模拟登录成功" class="headerlink" title="8.通过postman模拟登录成功"></a>8.通过postman模拟登录成功</h2><p><img src="/spring-and-jwt/D:%5CHugo%5Chugo_0.75.1_Windows-64bit%5Cblog%5Ccontent%5Cposts%5Cspring-and-jwt%5C20210426123031980.png" alt="在这里插入图片描述"></p><h2 id="9-编写测试接口"><a href="#9-编写测试接口" class="headerlink" title="9.编写测试接口"></a>9.编写测试接口</h2><pre class="line-numbers language-lang-java"><code class="language-lang-java">@PostMapping("/test/test")
public Map<string , object> test(String token) {
  Map<string , object> map = new HashMap<>();
  try {
    JWTUtils.verify(token);
    map.put("msg", "验证通过~~~");
    map.put("state", true);
  } catch (TokenExpiredException e) {
    map.put("state", false);
    map.put("msg", "Token已经过期!!!");
  } catch (SignatureVerificationException e){
    map.put("state", false);
    map.put("msg", "签名错误!!!");
  } catch (AlgorithmMismatchException e){
    map.put("state", false);
    map.put("msg", "加密算法不匹配!!!");
  } catch (Exception e) {
    e.printStackTrace();
    map.put("state", false);
    map.put("msg", "无效token~~");
  }
  return map;
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></string></string></code></pre><p><img src="/spring-and-jwt/D:%5CHugo%5Chugo_0.75.1_Windows-64bit%5Cblog%5Ccontent%5Cposts%5Cspring-and-jwt%5C20210426123106916.png" alt="在这里插入图片描述"></p><h2 id="10-通过postman请求接口"><a href="#10-通过postman请求接口" class="headerlink" title="10.通过postman请求接口"></a>10.通过postman请求接口</h2><p><img src="/spring-and-jwt/D:%5CHugo%5Chugo_0.75.1_Windows-64bit%5Cblog%5Ccontent%5Cposts%5Cspring-and-jwt%5C20210426123124603.png" alt="在这里插入图片描述"></p><h2 id="11-问题"><a href="#11-问题" class="headerlink" title="11.问题?"></a>11.问题?</h2><ul><li>使用上述方式每次都要传递token数据,每个方法都需要验证token代码冗余,不够灵活? 如何优化</li><li>使用拦截器进行优化</li></ul><h2 id="12-添加拦截器"><a href="#12-添加拦截器" class="headerlink" title="12. 添加拦截器"></a>12. 添加拦截器</h2><p>新建自定义拦截器MyInterceptor.java 实现HandlerInterceptor接口</p><pre class="line-numbers language-lang-java"><code class="language-lang-java">/**
 * @Author Joker DJ
 * @Date 2021/2/25 17:34
 * @Version 1.0
 */
@Slf4j
@Configuration
public class MyInterceptor implements HandlerInterceptor {
    @Override
    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {
        if (HttpMethod.OPTIONS.toString().equals(request.getMethod())) {
            System.out.println("OPTIONS请求，放行");return true;
        }
        String token = request.getHeader("Authorization");
        Map<string ,object> map = new HashMap<>();
        try {
            JWTUtils.verify(token);
            return true;
        } catch (TokenExpiredException e) {
            map.put("state", false);
            map.put("msg", "Token已经过期!!!");
        } catch (SignatureVerificationException e){
            map.put("state", false);
            map.put("msg", "签名错误!!!");
        } catch (AlgorithmMismatchException e){
            map.put("state", false);
            map.put("msg", "加密算法不匹配!!!");
        } catch (Exception e) {
            e.printStackTrace();
            map.put("state", false);
            map.put("msg", "无效token~~");
        }
        String json = new ObjectMapper().writeValueAsString(map);
        response.setContentType("application/json;charset=UTF-8");
        response.getWriter().println(json);
        return false;
    }
    @Override
    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception {
    }
    @Override
    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception {
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></string></code></pre><p>拦截器WebMvcConfig.java</p><pre class="line-numbers language-lang-java"><code class="language-lang-java">
@Configuration
public class WebMvcConfig implements WebMvcConfigurer {
    @Override
    public void addInterceptors(InterceptorRegistry registry) {
        registry.addInterceptor(new MyInterceptor()).
                addPathPatterns("/**").//拦截所有请求
                excludePathPatterns("/login").excludePathPatterns("/loginApp");//不拦截放行的请求地址
    }
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="13-登录成功返回token后需要的操作"><a href="#13-登录成功返回token后需要的操作" class="headerlink" title="13. 登录成功返回token后需要的操作"></a>13. 登录成功返回token后需要的操作</h2><h3 id="将token放到axios的header中，每次请求都携带token"><a href="#将token放到axios的header中，每次请求都携带token" class="headerlink" title="将token放到axios的header中，每次请求都携带token"></a>将token放到axios的header中，每次请求都携带token</h3><ol><li><p>返回的token写入localStorage<br>localStorage.setItem(‘authorization’,res.data.token);<br><img src="/spring-and-jwt/D:%5CHugo%5Chugo_0.75.1_Windows-64bit%5Cblog%5Ccontent%5Cposts%5Cspring-and-jwt%5C20210426123635828.png" alt="在这里插入图片描述"></p></li><li><p>配置全局axios访问携带token</p><pre class="line-numbers language-lang-java"><code class="language-lang-java">//自动给同一个vue项目的所有请求添加请求头
axios.interceptors.request.use(function (config) {
let token = localStorage.getItem('authorization');
if (token) {
 config.headers['Authorization'] = token;
}
return config;
})
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="后台接收token方式"><a href="#后台接收token方式" class="headerlink" title="后台接收token方式"></a>后台接收token方式</h3></li><li><p>获取request对象<br>```java<br>HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();</p></li></ol><pre><code>2. 通过request获取token```java String token = request.getHeader(&quot;Authorization&quot;);
</code></pre><ol><li><p>解析token</p><pre><code>DecodedJWT jwt = JWTUtils.getToken(token);
</code></pre></li><li><p>获取token信息</p><pre><code>String id = jwt.getClaim(&quot;id&quot;).asString();     String username = jwt.getClaim(&quot;username&quot;).asString();     String loginname = jwt.getClaim(&quot;loginname&quot;).asString();     User user = new User();     user.setId(id);     user.setLoginname(loginname);     user.setUsername(username);
</code></pre></li></ol><p>全部代码</p><pre><code>        HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();        String token = request.getHeader(&quot;Authorization&quot;);        DecodedJWT jwt = JWTUtils.getToken(token);        String id = jwt.getClaim(&quot;id&quot;).asString(); //注意类型asxxx        String username = jwt.getClaim(&quot;username&quot;).asString();        String loginname = jwt.getClaim(&quot;loginname&quot;).asString();        User user = new User();        user.setId(id);        user.setLoginname(loginname);        user.setUsername(username);
</code></pre><p></p></div><div class="share"><span>Share</span>&nbsp;<span class="soc"><a href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank" class="fa fa-bookmark"></a></span><span class="soc"><a href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));" class="fa fa-weibo"></a></span><span class="soc"><a href="http://twitter.com/home?status=https://kayleh.top/spring-and-jwt/%20Kayleh%20Spring and Jwt" target="_blank" rel="noopener" class="fa fa-twitter"></a></span></div><div class="pagination"><p class="clearfix"><span class="pre pagbuttons"><a role="navigation" href="/head-first-netty/" title="Head First Netty"><i class="fa fa-angle-double-left"></i>&nbsp;Previous post: Head First Netty</a></span><span>&nbsp;</span><span class="next pagbuttons"><a role="navigation" href="/SpringSecurity/" title="SpringSecurity">Next post: SpringSecurity&nbsp;<i class="fa fa-angle-double-right"></i></a></span></p></div><a id="comments"></a><div id="disqus_thread"></div><script>var disqus_shortname="kayleh",disqus_identifier="spring-and-jwt/",disqus_title="Spring and Jwt",disqus_url="https://kayleh.top/spring-and-jwt/";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script><script id="dsq-count-scr" src="//kayleh.disqus.com/count.js" async></script></div></div></div><div class="visible-xs site-bottom-footer"><footer><p>&copy;&nbsp;2021&nbsp;<a target="_blank" href="https://kayleh.top" rel="noopener noreferrer">Kayleh</a></p><span>visitors:<span id="busuanzi_value_site_pv"></span></span></footer></div></div></div></div><script src="/js/jquery-3.1.0.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/google-analytics.js"></script><script src="/js/typography.js"></script><script src="/js/dao.js"></script><script src="https://cdn.jsdelivr.net/gh/kayleh/cdn2/busuanzi/busuanzi.pure.mini.js"></script><script data-ad-client="ca-pub-7457165067653912" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script src="/live2d-widget/autoload.js"></script></body></html>